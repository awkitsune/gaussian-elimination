<div class="container">
  <div class="h4 mt-2">Калькулятор</div>
  <div class="row g-2">
    <div class="col-12 col-lg-6">
      <div class="h5 text-muted">Конфигурация матрицы</div>
      <div class="d-flex flex-row mb-2 flex-wrap">
        <div class="flex-grow-2">
          <label class="text-muted" for="inputGroup-rows"
            >Количество неизвестных</label
          >
          <input
            type="number"
            class="form-control"
            aria-label="Order input"
            id="inputGroup-rows"
            [(ngModel)]="order"
            (onModelChange)="resizeMatrix(order, order + 1)"
          />
        </div>
        <button
          class="btn btn-outline-primary align-self-end flex-grow-1"
          (click)="resizeMatrix(order, order + 1)"
        >
          Изменить размер
        </button>
      </div>

      <div class="h5 text-muted">Значения</div>
      <div class="card p-0 border-top-0 border-bottom-0">
        <div class="d-flex table-responsive">
          <div class="d-flex flex-column">
            @for (row of matrix.matrix; track trackByFn(rowIndex, row); let
            rowIndex = $index; ) {
            <div class="d-flex flex-row">
              @for (col of row; track trackByFn(colIndex, col); let colIndex =
              $index) {
              <div class="input-group flex-nowrap m-1" style="min-width: 4rem">
                <div class="input-group-text font-monospace">
                  <span class="text-muted">a </span
                  ><span class="small"
                    >{{ rowIndex + 1 }},{{ colIndex + 1 }}</span
                  >
                </div>
                <input
                  type="number"
                  class="form-control"
                  aria-label="Columns input"
                  id="inputGroup-cols"
                  aria-describedby="inputGroup-cols-sm"
                  [(ngModel)]="matrix.matrix[rowIndex][colIndex]"
                  style="min-width: 4rem"
                />
              </div>
              }
            </div>
            }
          </div>
        </div>
      </div>
    </div>
    <div class="col-12 col-lg-6">
      <div class="h5 text-muted">Результат</div>
      <div>{{ matrix | json }}</div>
    </div>
  </div>
</div>
